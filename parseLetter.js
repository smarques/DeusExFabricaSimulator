var points = {}
var smiley = {}
points['1']=[
'00100',
'01100',
'00100',
'00100',
'01110',
];
points['0']=[
'00100',
'01010',
'01010',
'01010',
'00100',
];
points['3']=[
'01100',
'00010',
'00100',
'00010',
'01100',
];
points['2']=[
'01100',
'00010',
'00100',
'01000',
'01110',
];
points['5']=[
'01110',
'01000',
'01100',
'00010',
'01100',
];
points['4']=[
'00010',
'01010',
'01110',
'00010',
'00010',
];
points['7']=[
'01110',
'00010',
'00100',
'00100',
'00100',
];
points['6']=[
'00110',
'01000',
'01100',
'01010',
'00100',
];
points['9']=[
'00100',
'01010',
'00110',
'00010',
'01100',
];
points['8']=[
'00100',
'01010',
'00100',
'01010',
'00100',
];
points['a']=[
'11111',
'10001',
'10001',
'11111',
'10001',
];
points['c']=[
'11111',
'10000',
'10000',
'10000',
'11111',
];
points['b']=[
'11111',
'10001',
'11110',
'10001',
'11111',
];
points['e']=[
'11111',
'10000',
'11110',
'10000',
'11111',
];
points['d']=[
'11110',
'10001',
'10001',
'10001',
'11110',
];
points['g']=[
'11111',
'10000',
'10011',
'10001',
'11111',
];
points['f']=[
'11111',
'10000',
'11100',
'10000',
'10000',
];
points['i']=[
'11111',
'00100',
'00100',
'00100',
'11111',
];
points['h']=[
'10001',
'10001',
'11111',
'10001',
'10001',
];
points['k']=[
'10001',
'10010',
'11100',
'10010',
'10001',
];
points['j']=[
'00011',
'00001',
'00001',
'10001',
'11111',
];
points['m']=[
'10001',
'11011',
'10101',
'10001',
'10001',
];
points['l']=[
'10000',
'10000',
'10000',
'10000',
'11111',
];
points['o']=[
'01110',
'10001',
'10001',
'10001',
'01110',
];
points['n']=[
'10001',
'11001',
'10101',
'10011',
'10001',
];
points['q']=[
'11111',
'10001',
'10001',
'11111',
'00100',
];
points['p']=[
'11110',
'10001',
'11110',
'10000',
'10000',
];
points['s']=[
'11111',
'10000',
'11111',
'00001',
'11111',
];
points['r']=[
'11110',
'10001',
'11110',
'10001',
'10001',
];
points['u']=[
'10001',
'10001',
'10001',
'10001',
'11111',
];
points['t']=[
'11111',
'00100',
'00100',
'00100',
'00100',
];
points['w']=[
'10001',
'10001',
'10101',
'10101',
'01010',
];
points['v']=[
'10001',
'10001',
'01010',
'01010',
'00100',
];
points['y']=[
'10001',
'10001',
'01010',
'00100',
'00100',
];
points['x']=[
'10001',
'01010',
'00100',
'01010',
'10001',
];
points['z']=[
'11111',
'00010',
'00100',
'01000',
'11111',
];

smiley[':)']=[
'00000',
'11011',
'00000',
'10001',
'01110',
];

function processAlphanum(carattere, r, g, b){
	//post (r+'-'+g+'-'+b);
	var rows = points[carattere];
	var color = null;
	if(r!=null && g!=null && b!=null)
	{
		color = [r,g,b]
	}
	var offColor = '0 0 0 ';
	var matrix = '';
	var rowcount=-1;
		if(color == null){
			onColor = '255 255 255 ';
			}
		else{
			onColor = color[0] + ' ' + color[1] + ' ' + color[2]+' ';
			}
	for(el in rows){
			rowcount += 1;
			var col = 1
			var row = (rows[el]);
			for(el2 in row){
				binladen = (row[el2]);
				col += 1;
				matrix+= rowcount + ' ' + col + ' ';
				if(parseInt(binladen)==1){
					matrix+= onColor;
					}
				else{
					matrix += offColor;
					}
			}
	}
	outlet(0,matrix);
}

function processSmiley(carattere, r, g, b){
	//post (r+'-'+g+'-'+b);
	var rows = smiley[carattere];
	var color = null;
	if(r!=null && g!=null && b!=null)
	{
		color = [r,g,b]
	}
	var offColor = '255 255 255 ';
	var matrix = '';
	var rowcount=-1;
		if(color == null){
			onColor = '120 40 120 ';
			}
		else{
			onColor = color[0] + ' ' + color[1] + ' ' + color[2]+' ';
			}
	for(el in rows){
			rowcount += 1;
			var col = 1
			var row = (rows[el]);
			for(el2 in row){
				binladen = (row[el2]);
				col += 1;
				matrix+= rowcount + ' ' + col + ' ';
				if(parseInt(binladen)==1){
					matrix+= onColor;
					}
				else{
					matrix += offColor;
					}
			}
	}
	outlet(0,matrix);
}